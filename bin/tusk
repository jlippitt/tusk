#!/usr/bin/php
<?php

require_once(__DIR__ . '/../vendor/autoload.php');

use Tusk\Context;
use Tusk\Environment;
use Tusk\Expectation;

function describe($description, \Closure $body)
{
    $env = Environment::getInstance();

    $context = new Context($description, $body, $env);
    $context->execute();
}

function it($description, \Closure $body)
{
    $env = Environment::getInstance();

    $context = new Context($description, $body, $env);
    $context->execute();
}

function expect($value)
{
    $env = Environment::getInstance();

    return new Expectation($value, $env->getContext());
}

if ($argc !== 2) {
    die("Syntax: tusk <filename>\n");
}

require($argv[1]);

echo "All specs passed\n";
